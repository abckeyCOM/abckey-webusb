<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>abckey</title>
</head>

<body>
  <button onclick="add()">add</button>
  <button onclick="cmd()">cmd</button>
  <button onclick="getPublicKey()">GetPublicKey</button>
  <script src="../dist/_index.js"></script>
  <script>
    let abckey = require('abckey').default;
    abckey = new abckey({
      debug: true
    })

    abckey.onDisconnect(e => {
      console.log('onDisconnect', e)
    })

    abckey.onRead(msg => {
      console.log('onRead', msg)
    })

    async function add() {
      const result = await abckey.add()
      console.log('add', result)
    }

    async function cmd() {
      const type = 'Initialize'
      const data = { message: 'test' }
      const result = await abckey.cmd(type, data)
      console.log('cmd', result)
    }

    async function getPublicKey() {
      const result = await abckey.getPublicKey([49, 0, 0])
      console.log('cmd', result)
    }
  </script>
</body>

</html>
